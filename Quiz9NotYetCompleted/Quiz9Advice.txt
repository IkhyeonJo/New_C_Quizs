본론으로 돌아가서 getch()함수를 이용하여 방향키를 입력받을때는

char c;

c = getch();

위와 같은 코드로 왼쪽 방향키를 받으면 75라는 값이 나오는데 이 값은 아스키코드 값이지만 아스키코드표에는 나오지 않는다. 그 이유는 일반 아스키 코드는 1byte인 반면 확장키(방향키, 펑션키)는 2byte이기 때문이다.

getch()함수는 1byte만 받을 수 있기 때문에 방향키를 입력받을때는 한번 더 호출해 주어야 한다.

char ch;
while(1)
{
ch = getch();
if(ch == 0xE0 || ch ==0)    //입력받은 값이 확장키 이면
ch = getch();            //한번더 입력을 받는다.
switch(ch)
case :
...
...
}

위와 같은 방법으로 입력을 받으면 방향키를 입력 받을 수 있다.


getch 함수는 A, B, 1, 2 같은 문자키가 눌러졌을 때 문자를 바로 돌려 주지만 커서 이동키나 펑션키같이 문자가 할당되지 않은 확장키에 대해서는 0xE0 또는 0의 특이값을 리턴하도록 되어 있다.





int key; 또는 unsigned char key;로 하자.